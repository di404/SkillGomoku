<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Skill Gomoku Â· Phaser + Firebase</title>
    <meta name="description" content="äº”å­æ£‹ + æŠ€èƒ½ çš„ Phaser å°æ¸¸æˆéª¨æ¶ï¼Œå‡†å¤‡éƒ¨ç½²åˆ° Firebase Hostingã€‚" />
    <!-- Phaser CDNï¼ˆå›ºå®šç¨³å®šç‰ˆæœ¬ï¼‰ -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
    <style>
      :root {
        --sidebar-width: 320px;
        --bg: #0f1021;
        --panel: #161729;
        --panel-2: #1e2040;
        --text: #eaeaf7;
        --muted: #a8adcf;
        --accent: #5b8cff;
      }
      html, body {
        height: 100%;
        margin: 0;
        background: var(--bg);
        color: var(--text);
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
      }
      .layout {
        height: 100vh;
        width: 100vw;
        display: flex;
        flex-direction: row;
        gap: 12px;
        box-sizing: border-box;
        padding: 12px;
      }
      .game-wrap {
        flex: 0 0 auto;
        /* å·¦ä¾§ä¸ºæ­£æ–¹å½¢åŒºåŸŸï¼Œä¼˜å…ˆä½¿ç”¨è§†å£é«˜åº¦ï¼Œå†é¢„ç•™å³ä¾§è¾¹æ ç©ºé—´ */
        width: min(100vh - 24px, calc(100vw - var(--sidebar-width) - 36px));
        height: min(100vh - 24px, calc(100vw - var(--sidebar-width) - 36px));
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(180deg, #0b0c1e, #0d0f26);
        border: 1px solid #23244a;
        border-radius: 10px;
        overflow: hidden;
      }
      #game-container {
        width: 100%;
        height: 100%;
      }
      .side-panel {
        flex: 0 0 var(--sidebar-width);
        display: flex;
        flex-direction: column;
        gap: 12px;
      }
      .card {
        background: var(--panel);
        border: 1px solid #23244a;
        border-radius: 10px;
        padding: 12px;
      }
      .title {
        font-weight: 700;
        font-size: 18px;
        margin-bottom: 4px;
      }
      .muted { color: var(--muted); font-size: 12px; }
      .status-line { display: flex; justify-content: space-between; margin-top: 6px; }
      .skills { display: flex; flex-direction: column; gap: 8px; }
      .skill-btn {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 12px;
        background: var(--panel-2);
        border: 1px solid #2b2d58;
        border-radius: 8px;
        cursor: pointer;
        user-select: none;
        transition: background .12s, transform .02s;
        position: relative;
      }
      .skill-btn:hover { background: #262a5a; }
      .skill-btn:active { transform: translateY(1px); }
      .skill-btn::after {
        content: attr(data-desc);
        position: absolute;
        bottom: calc(100% + 8px);
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0, 0, 0, 0.92);
        color: #ffd666;
        padding: 6px 10px;
        border-radius: 6px;
        font-size: 12px;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity .2s;
        z-index: 100;
      }
      .skill-btn:hover::after { opacity: 1; }
      .skill-name { font-size: 14px; }
      .skill-cd { font-size: 12px; color: var(--muted); }
      .skill-disabled { opacity: 0.55; pointer-events: none; }
      .toast { color: #ffd666; min-height: 20px; }
      .restart-btn {
        width: 100%;
        padding: 12px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        border-radius: 8px;
        color: white;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: transform .12s, box-shadow .12s;
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
      }
      .restart-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
      }
      .restart-btn:active { transform: translateY(0); }
    </style>
  </head>
  <body>
    <div class="layout">
      <div class="game-wrap">
        <div id="game-container"></div>
      </div>
      <div class="side-panel">
        <div class="card">
          <div class="title">Skill Gomoku</div>
          <div class="muted">äº”å­æ£‹ + æŠ€èƒ½</div>
          <div class="status-line"><span>çŠ¶æ€</span><span id="status">Loadingâ€¦</span></div>
          <div class="status-line"><span>å½“å‰ç©å®¶</span><span id="currPlayer">-</span></div>
          <div class="status-line"><span>å›åˆ</span><span id="turn">-</span></div>
        </div>
        <div class="card">
          <div class="title">æŠ€èƒ½</div>
          <div class="skills">
            <div class="skill-btn" id="skill-flying" data-desc="éšæœºç§»åŠ¨å¯¹æ–¹çš„ä¸€é¢—æ£‹å­åˆ°é™„è¿‘ç©ºä½">
              <div class="skill-name">é£æ²™èµ°çŸ³</div>
              <div class="skill-cd" data-cd>CD</div>
            </div>
            <div class="skill-btn" id="skill-mountain" data-desc="æ°¸ä¹…ç ´åä¸€ä¸ªæ ¼å­ï¼ˆå«æ£‹å­ï¼‰">
              <div class="skill-name">åŠ›æ‹”å±±å…®</div>
              <div class="skill-cd" data-cd>CD</div>
            </div>
            <div class="skill-btn" id="skill-water" data-desc="è·³è¿‡å¯¹æ–¹ä¸‹ä¸€å›åˆ">
              <div class="skill-name">é™å¦‚æ­¢æ°´</div>
              <div class="skill-cd" data-cd>CD</div>
            </div>
            <div class="skill-btn" id="skill-polarity" data-desc="äº¤æ¢åœºä¸Šæ‰€æœ‰é»‘ç™½æ£‹å­çš„é¢œè‰²">
              <div class="skill-name">ä¸¤æåè½¬</div>
              <div class="skill-cd" data-cd>CD</div>
            </div>
            <div class="skill-btn" id="skill-tiger" data-desc="å¼ºåˆ¶å¯¹æ–¹ä¸‹ä¸€æ­¥å¿…é¡»åœ¨è¾¹ç¼˜è½å­">
              <div class="skill-name">è°ƒè™ç¦»å±±</div>
              <div class="skill-cd" data-cd>CD</div>
            </div>
            <div class="skill-btn" id="skill-drop" data-desc="é€‰æ‹©ä¸¤ä¸ªç‚¹è™šè½å­ï¼Œå››å›åˆåæˆä¸ºå®ä½“">
              <div class="skill-name">æ°´æ»´çŸ³ç©¿</div>
              <div class="skill-cd" data-cd>CD</div>
            </div>
            <div class="skill-btn" id="skill-resurrection" data-desc="ä¿®å¤æ£‹ç›˜ä¸Šè¢«ç ´åçš„æ ¼å­">
              <div class="skill-name">ä¸œå±±å†èµ·</div>
              <div class="skill-cd" data-cd>CD</div>
            </div>
            <div class="skill-btn" id="skill-clean" data-desc="æ¸…é™¤æ£‹ç›˜ä¸Šçš„ä¸€æ•´è¡Œ/åˆ—/å¯¹è§’çº¿">
              <div class="skill-name">ä¿æ´ä¸Šé—¨</div>
              <div class="skill-cd" data-cd>CD</div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="title">æç¤º</div>
          <div class="toast" id="toast"></div>
        </div>
        <div class="card">
          <div class="title">è¯´æ˜</div>
          <div class="muted" style="line-height: 1.6;">
            â€¢ äº”å­è¿ç è·èƒœ<br>
            â€¢ æŠ€èƒ½æœ‰å†·å´æ—¶é—´<br>
            â€¢ æ‚¬åœæŠ€èƒ½æŸ¥çœ‹è¯´æ˜<br>
            â€¢ åŠ›æ‹”å±±å…®éœ€ç‚¹å‡»ä¸¤æ¬¡
          </div>
        </div>
        <div class="card">
          <button class="restart-btn" id="restart-btn">ğŸ”„ é‡æ–°å¼€å§‹</button>
        </div>
      </div>
    </div>

    <!-- å…¥å£è„šæœ¬ï¼ˆä½¿ç”¨ ES Modules ç»„ç»‡ä»£ç ï¼‰ -->
    <script type="module" src="./src/main.js"></script>
  </body>
  </html>
